@import "./_animations.css";

@supports (animation-timeline: view()) {
  /* Hide warning when native support */
  .warning {
    display: none;
  }
}

/** NON ESSENTIAL STYLES BELOW **/
html {
  color-scheme: light dark;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  font-size: clamp(1.1em, calc(0.5em + 1vw), 3em);
  line-height: 1.42;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",
    sans-serif;
}

header {
  display: grid;
  place-items: center;
  min-height: 100vh;
  text-align: center;
  padding: 2rem;
}

header h1 {
  font-size: clamp(2rem, 5vw, 4rem);
  margin: 0 0 1rem 0;
}

main {
  width: 90vw;
  max-width: 60em;
  margin: 0 auto;
}

aside {
  font-weight: 300;
  width: 90vw;
  max-width: 40em;
  margin: 0 auto;
  padding: 4em 0;
}

aside code {
  background: rgba(0, 0, 0, 0.1);
  padding: 0.2em 0.4em;
  border-radius: 3px;
  font-size: 0.9em;
}

.warning {
  padding: 1em;
  margin: 1em 0;
  border: 1px solid #ccc;
  background: rgba(255 255 205 / 0.8);
}

.warning > :first-child {
  margin-top: 0;
}

.warning > :last-child {
  margin-bottom: 0;
}

.warning a {
  color: blue;
}

@media (prefers-color-scheme: dark) {
  .warning {
    background: #333;
  }
  .warning a {
    color: lightblue;
  }
}

/* Cards Styles */
#cards {
  list-style: none;
  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: repeat(var(--numcards, 4), var(--card-height, 40vh));
  gap: var(--card-margin, 4vh);
  padding: 0;
  margin: calc(var(--card-height, 40vh) + var(--card-margin, 4vh)) 0;
}

.card {
  position: sticky;
  top: 0;
  padding-top: calc(var(--index, 1) * var(--card-top-offset, 8vh));
}

.card__content {
  box-shadow: 0 0.2em 1em rgba(0, 0, 0, 0.1), 0 1em 2em rgba(0, 0, 0, 0.1);
  background: rgb(255, 255, 255);
  color: rgb(10, 5, 7);
  border-radius: 1em;
  overflow: hidden;

  display: grid;
  grid-template-columns: 1fr;
  grid-template-rows: auto;

  align-items: stretch;
  justify-items: stretch;

  /* Stick the card on top (when the browser supports it) */
  position: sticky;
  top: calc(var(--index, 1) * var(--card-top-offset, 8vh));

  height: var(--card-height, 40vh);
  padding: 2rem;
}

.card__content > div {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.card__content h2 {
  margin: 0 0 0.5em 0;
  font-size: clamp(1.5rem, 3vw, 2.5rem);
}

.card__content p {
  margin: 0;
}

.card__content figure {
  margin: 0;
  display: grid;
  place-items: center;
}

.card__content img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Card colors */
.card:nth-child(4n + 1) .card__content {
  background-color: rgb(164, 234, 192);
  color: rgb(7, 59, 58);
}

.card:nth-child(4n + 2) .card__content {
  background-color: rgb(255, 223, 211);
  color: rgb(28, 29, 28);
}

.card:nth-child(4n + 3) .card__content {
  background-color: rgb(134, 198, 251);
  color: rgb(19, 26, 31);
}

.card:nth-child(4n + 4) .card__content {
  background-color: rgb(255, 198, 198);
  color: rgb(80, 28, 37);
}

@media (prefers-color-scheme: dark) {
  .card__content {
    background: rgb(30, 30, 30);
    color: rgb(240, 240, 240);
  }

  .card:nth-child(4n + 1) .card__content {
    background-color: rgb(40, 80, 60);
    color: rgb(220, 255, 230);
  }

  .card:nth-child(4n + 2) .card__content {
    background-color: rgb(80, 50, 40);
    color: rgb(255, 230, 220);
  }

  .card:nth-child(4n + 3) .card__content {
    background-color: rgb(30, 60, 90);
    color: rgb(200, 230, 255);
  }

  .card:nth-child(4n + 4) .card__content {
    background-color: rgb(80, 30, 40);
    color: rgb(255, 200, 210);
  }
}
